{% extends 'base.html' %}

{% load static %}

{% block content %}
<div class="bg-red-500 p-4">–∫—Ä–∞—Å–Ω—ã–π –±–ª–æ–∫</div>
<div class="bg-gray-900 text-white p-6 rounded-xl shadow-xl flex flex-col lg:flex-row gap-6">

  <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å -->
  <div class="w-full lg:w-2/3">
    <div class="relative">
      <img src="{{ property.main_image.url }}" alt="{{ property.title }}" class="rounded-2xl w-full h-72 object-cover" />
      <div class="absolute top-4 right-4 bg-emerald-500 text-white px-3 py-1 rounded-lg text-sm font-semibold">
        ${{ property.price }}
      </div>
    </div>
    <h1 class="text-3xl font-bold mt-4">{{ property.title }}</h1>
    <p class="text-sm text-gray-400 mt-1">
      {{ property.city }}, {{ property.country }} ‚Ä¢ {{ property.property_type }} ‚Ä¢ {{ property.ownership }}
    </p>
  </div>

  <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å: –ê–≥–µ–Ω—Ç -->
  <div class="w-full lg:w-1/3 bg-gray-800 p-4 rounded-2xl flex flex-col gap-3">
    <div class="flex items-center gap-3">
      <img src="{{ property.agent.avatar.url }}" alt="{{ property.agent.full_name }}" class="w-12 h-12 rounded-full object-cover">
      <div>
        <h4 class="font-semibold">{{ property.agent.full_name }}</h4>
        <p class="text-sm text-gray-400">–ê–≥–µ–Ω—Ç –ø–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</p>
      </div>
    </div>
    <div class="text-sm text-gray-300">
      <p>üìß {{ property.agent.email }}</p>
      <p>üìû {{ property.agent.phone }}</p>
      <p>üíº –ö–æ–º–∏—Å—Å–∏—è: {{ property.agent.commission }}%</p>
    </div>
  </div>

</div>
<div class="bg-[#1d1f23] min-h-screen text-white">
  <!-- –•–µ–¥–µ—Ä -->
  <div class="flex justify-between items-center px-8 py-4 border-b border-gray-700">
    <div class="text-xl font-semibold">üèù {{ property.title }}</div>
    <div class="text-sm text-gray-400">{{ property.location }}</div>
  </div>

  <!-- –§–æ—Ç–æ -->
  <div class="relative w-full h-[400px] overflow-hidden">
    {% if images %}
      <img src="{{ images.0.image.url }}" alt="{{ property.title }}" class="w-full h-full object-cover">
    {% else %}
      <img src="{{ property.image.url }}" alt="{{ property.title }}" class="w-full h-full object-cover">
    {% endif %}

    <div class="absolute top-4 left-4 bg-white text-black text-xs font-semibold px-3 py-1 rounded">
      {{ property.get_category_display }}
    </div>
    <div class="absolute top-4 right-4 bg-green-500 text-white text-lg font-bold px-4 py-2 rounded">
      ${{ property.price }}
    </div>
  </div>

  <!-- –û–ø–∏—Å–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ -->
  <div class="px-8 py-6">
    <h2 class="text-2xl font-bold mb-4">–û–ø–∏—Å–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞</h2>

    <div class="grid grid-cols-2 sm:grid-cols-4 gap-6 text-sm text-gray-300">
      <div>
        <div class="text-white font-semibold">–°–ø–∞–ª—å–Ω–∏</div>
        <div>{{ property.bedrooms }}</div>
      </div>
      <div>
        <div class="text-white font-semibold">–í–∞–Ω–Ω—ã–µ</div>
        <div>{{ property.bathrooms }}</div>
      </div>
      <div>
        <div class="text-white font-semibold">–ü–ª–æ—â–∞–¥—å</div>
        <div>{{ property.area }} –º¬≤</div>
      </div>
      <div>
        <div class="text-white font-semibold">–ì–æ–¥ —Å–¥–∞—á–∏</div>
        <div>{{ property.year_built }}</div>
      </div>
      <div>
        <div class="text-white font-semibold">–¢–∏–ø –≤–ª–∞–¥–µ–Ω–∏—è</div>
        <div>{{ property.ownership_type }}</div>
      </div>
      <div>
        <div class="text-white font-semibold">–î–æ —Ü–µ–Ω—Ç—Ä–∞</div>
        <div>{{ property.distance_to_city }} –º</div>
      </div>
      <div>
        <div class="text-white font-semibold">–î–æ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞</div>
        <div>{{ property.distance_to_airport }} –∫–º</div>
      </div>
      <div>
        <div class="text-white font-semibold">–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (ROI)</div>
        <div>{{ property.roi }}%</div>
      </div>
      <div>
        <div class="text-white font-semibold">–ò–ø–æ—Ç–µ–∫–∞</div>
        <div>{% if property.is_mortgage %}–î–∞{% else %}–ù–µ—Ç{% endif %}</div>
      </div>
      <div>
        <div class="text-white font-semibold">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</div>
        <div>{% if property.is_managed %}–î–∞{% else %}–ù–µ—Ç{% endif %}</div>
      </div>
      <div>
        <div class="text-white font-semibold">–ì–∞—Ä–∞–Ω—Ç–∏—è</div>
        <div>{% if property.is_guaranteed %}–î–∞{% else %}–ù–µ—Ç{% endif %}</div>
      </div>
      <div>
        <div class="text-white font-semibold">–†–µ–π—Ç–∏–Ω–≥</div>
        <div>{{ property.rating }}</div>
      </div>
    </div>

    <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
    <p class="mt-6 text-base leading-relaxed text-gray-300">
      {{ property.description }}
    </p>
  </div>
</div>
{% endblock %}